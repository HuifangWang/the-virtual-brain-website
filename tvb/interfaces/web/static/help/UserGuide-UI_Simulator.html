<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.10: http://docutils.sourceforge.net/" />
<title>Simulator</title>
<link rel="stylesheet" href="styles/html4css1.css" type="text/css" />
<link rel="stylesheet" href="styles/html_doc.css" type="text/css" />
</head>
<body>
<div class="document" id="simulator">
<h1 class="title">Simulator</h1>

<p>A configurable multicolumn interface that combines <em>TheVirtualBrain</em> simulation, analysis
and visualization capabilities.</p>
<blockquote>
<div class="figure align-center">
<img alt="screenshots/simulator.jpg" src="screenshots/simulator.jpg" style="width: 90%;" />
<p class="caption">Preview for Simulator Area</p>
</div>
</blockquote>
<!-- SIMULATOR COLUMN -->
<div class="section" id="configure-a-simulation">
<h1>Configure a Simulation</h1>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="docutils">
<dt>On the top of this column there is:</dt>
<dd><ul class="first last simple">
<li>a field to enter the new simulation name,</li>
<li>the <cite>Launch</cite> button on the top right to start the simulation, and</li>
<li>the <cite>Configure Interface</cite> button to select which of the simulation
components are visible.</li>
</ul>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<img alt="screenshots/simulator_configuration_buttons.jpg" class="align-center" src="screenshots/simulator_configuration_buttons.jpg" style="width: 90%;" />
</blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Via this column, you have access to all the simulator components configurable
settings:</p>
<blockquote>
<ul class="simple">
<li>Long Range Connectivity</li>
<li>Long Range Coupling Function</li>
<li>Conduction Speed</li>
<li>Cortical Surface</li>
<li>Stimulus</li>
<li>Local Dynamics Model
- State Variable Range
- State Variables to be recorded
- Initial Conditions</li>
<li>Integration Scheme
- Integration Step Size</li>
<li>Monitors</li>
<li>Simulation Length</li>
</ul>
</blockquote>
<p>You can find more detailed information by clicking on the <img alt="interrogationicon" src="icons/online_help_green.png" />
icon next to each element.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p><strong>TVB performs region-based and surface-based simulations</strong></p>
<p class="last">You can access specific configuration pages for both types of simulation.</p>
</div>
<div class="section" id="region-based-simulations">
<h2>Region-based simulations</h2>
<p>The <cite>Set up region Model</cite> button leads you to an interactive phase-plane display.
This tool shows the 2-dimensional planes of the general n-dimensional
phase space of the local dynamics model.</p>
<p>It allows you to observe how the dynamics of the physical model change as a
function of its parameters. (See the API documentation for more details about
this interactive display)</p>
<blockquote>
<div class="figure align-center">
<img alt="screenshots/simulator_phase_plane_interactive.jpg" src="screenshots/simulator_phase_plane_interactive.jpg" style="width: 90%;" />
<p class="caption">Preview for region model configuration.</p>
</div>
</blockquote>
</div>
<div class="section" id="surface-based-simulations">
<h2>Surface-based simulations</h2>
<p>If you are launching a surface-based simulation, then it is possible to add
more complexity by spatially varying the model parameters.</p>
<p>In order to do that, click on <cite>Set up surface model</cite>. A new configuration page
will be loaded.</p>
<blockquote>
<div class="figure align-center">
<img alt="screenshots/simulator_spatialized_parameters.jpg" src="screenshots/simulator_spatialized_parameters.jpg" style="width: 90%;" />
<p class="caption">Preview for surface model configuration.</p>
</div>
</blockquote>
<div class="tip">
<p class="first admonition-title">Tip</p>
<p><strong>Parameter Space Exploration</strong></p>
<p>It is possible to launch parallel simulations to systematically explore the
parameter space of the local dynamics model. In the current TVB version, up to
2 parameters can be inspected at the same time.</p>
<blockquote class="last">
<div class="figure align-center">
<img alt="screenshots/simulator_pse_configuration.jpg" src="screenshots/simulator_pse_configuration.jpg" style="width: 60%;" />
<p class="caption">The results will be presented in a discrete two dimensional graph. Each
point represents the results of a simulation for an unique combination of
parameters. The disk size corresponds to Global Variance and the color
scale corresponds to Variance of the Variance of nodes.</p>
</div>
</blockquote>
</div>
<!-- HISTORY COLUMN -->
</div>
</div>
<div class="section" id="simulation-history">
<h1>Simulation History</h1>
<p>On the left column, a history of all simulations is kept and can be
accessed at any time. Each simulation can be renamed or deleted by
clicking on the upper right <img alt="pencil_icon" src="icons/pencil.png" /> icon.</p>
<div class="figure align-center">
<img alt="screenshots/simulator_history_edits.jpg" src="screenshots/simulator_history_edits.jpg" style="width: 20%;" />
<p class="caption">Simulation editing menu</p>
</div>
<div class="caution">
<p class="first admonition-title">Caution!</p>
<p class="last">Please notice that <strong>deleting a simulation will also delete all
resulting data that had been produced</strong>.</p>
</div>
<p>Each simulation has a color label that represents its current status:</p>
<blockquote>
<ul class="simple">
<li>pale blue: simulation is running,</li>
<li>green: simulation is finished,</li>
<li>red: an error occured during the simulation.</li>
</ul>
</blockquote>
<div class="note">
<p class="first admonition-title">Note</p>
<p>You cannot rename a Simulation while it is running.</p>
<blockquote class="last">
<div class="figure align-center">
<img alt="screenshots/simulator_history_running.jpg" src="screenshots/simulator_history_running.jpg" style="width: 20%;" />
</div>
</blockquote>
</div>
<div class="tip">
<p class="first admonition-title">Tip</p>
<p class="last">The star button allows you to create a new simulation.
using the default
<cite>Simulator</cite> parameters.</p>
</div>
<!-- VIEW COLUMN -->
</div>
<div class="section" id="display-simulation-results">
<h1>Display Simulation Results</h1>
<p>On the right column you will find an area where you can configure displays to exhibit
your simulation results.</p>
<div class="hint">
<p class="first admonition-title">Hint</p>
<p class="last">Maximize this column by clicking on the <cite>zoom</cite> icon located in the top right
corner.</p>
</div>
<p>There are 4 tabs:</p>
<blockquote>
<ul>
<li><p class="first">three <cite>View</cite> tabs you can set up by selecting:</p>
<blockquote>
<ul class="simple">
<li>TVB time-series <cite>Visualizers</cite> that directly plot the resulting time-series or</li>
<li><cite>TVB-Visualizers</cite> associated with a <cite>TVB-Analyzer</cite>. In this case, simulation
results undergo two steps: they are first analyzed and those secondary results
are shown in a corresponding visualizer.</li>
</ul>
</blockquote>
</li>
<li><p class="first">one <cite>Results</cite> tab containing the current simulation data structure tree. You
can inspect each element through this tree in the same way as in
<cite>Projects</cite> --&gt; <cite>Data Structure</cite>.
A full list of visualizers and analyzers is available from the component
overlay menu.</p>
</li>
</ul>
</blockquote>
<div class="tip">
<p class="first admonition-title">Tip</p>
<p>Once your results are available, by clicking on <img alt="launch_full_viz" src="icons/button_launch_full_visualizer.png" /> you will be
redirected to a new page where only the currently selected visualizer is
presented. In this new page, you can click on <img alt="brainicon" src="icons/action_bar_brain.png" /> in the top right corner
to access a new menu which will allow you to:</p>
<blockquote class="last">
<ul class="simple">
<li><cite>Save</cite> a snapshot of the current figure.</li>
<li><cite>Relaunch</cite> the visualizer using a different entity, if available. For instance, a
different time-series.</li>
</ul>
<div class="figure align-center">
<img alt="screenshots/visualizer_save_figure.jpg" src="screenshots/visualizer_save_figure.jpg" style="width: 90%;" />
<p class="caption">Preview for Full Visualizer mode.</p>
</div>
</blockquote>
</div>
<p>All the snapshots you save can be managed in  <cite>Projects</cite> --&gt; <cite>Image Archive</cite>
page.</p>
<!-- VISUALIZERS COLUMN -->
</div>
<div class="section" id="simple-visualizers">
<h1>Simple Visualizers</h1>
<div class="section" id="brain-activity-visualizer">
<h2>Brain Activity Visualizer</h2>
<p>A 3D scene of the brain activity:</p>
<ul class="simple">
<li>at the region level: the brain is represented by a coarse granularity - each
region is represented with only one color.</li>
</ul>
<div class="figure align-center">
<img alt="screenshots/brain.jpg" src="screenshots/brain.jpg" style="width: 90%;" />
<p class="caption">Preview for Brain Activity Visualizer at the region level</p>
</div>
<ul class="simple">
<li>at the surface level: the brain is represented by a fine granularity - each
surface vertex has an individual measure.</li>
</ul>
</div>
<div class="section" id="time-series-visualizer-svg-d3">
<h2>Time Series Visualizer (svg/d3)</h2>
<div class="figure align-center">
<img alt="screenshots/visualizer_timeseries_svgd3.jpg" src="screenshots/visualizer_timeseries_svgd3.jpg" style="width: 90%;" />
<p class="caption">Preview for Time-Series Visualizer (svg/d3)</p>
</div>
</div>
<div class="section" id="eeg-time-series-visualizer">
<h2>EEG Time Series Visualizer</h2>
<div class="figure align-center">
<img alt="screenshots/visualizer_timeseries_eeg.jpg" src="screenshots/visualizer_timeseries_eeg.jpg" style="width: 90%;" />
<p class="caption">Preview for EEG Time Series Visualizer</p>
</div>
<p>If you used an EEG monitor to record the activity of your large-scale brain
simulation, this display allows you to select the channels of the 62-sensors
EEG recording.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_timeseries_eeg_channel_selection.jpg" src="screenshots/visualizer_timeseries_eeg_channel_selection.jpg" style="width: 90%;" />
<p class="caption">Selecting the &quot;channels&quot; to be displayed.</p>
</div>
</div>
<div class="section" id="dual-brain-eeg-visualizer">
<h2>Dual Brain - EEG Visualizer</h2>
<div class="figure align-center">
<img alt="screenshots/visualizer_timeseries_eeg.jpg" src="screenshots/visualizer_timeseries_eeg.jpg" style="width: 90%;" />
<p class="caption">Preview for EEG Time Series Visualizer</p>
</div>
<p>This visualizer combines the brain activity on top of a 3D display of the pacient's
head and on the right column, the EEG channels recordings. Channel selection is
also available.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_dual_head_eeg.jpg" src="screenshots/visualizer_dual_head_eeg.jpg" style="width: 90%;" />
<p class="caption">Brain activity wit EEG recordings.</p>
</div>
</div>
<div class="section" id="dual-brain-seeg-visualizer">
<h2>Dual Brain - sEEG Visualizer</h2>
<p>This visualizer combines the brain activity on top of a 3D display of the pacient's
head and on the right column, the sEEG (Stereo EEG) channels recordings. Channel selection is
also available.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_dual_head_seeg.jpg" src="screenshots/visualizer_dual_head_seeg.jpg" style="width: 90%;" />
<p class="caption">Brain activity wit sEEG recordings.</p>
</div>
</div>
<div class="section" id="connectivity-measure-visualizer">
<h2>Connectivity Measure Visualizer</h2>
<p>This visualizer can be used for displaying various Brain Connectivity Measures, related to a given Connectivity.</p>
<p>On the X axis, we will see the Connectivity nodes listed, and for each of them, we see the computed measure on the Y axis.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_histogram.jpg" src="screenshots/visualizer_histogram.jpg" style="width: 90%;" />
<p class="caption">Connectivity Measure Visualizer.</p>
</div>
</div>
<div class="section" id="topographic-visualizer">
<h2>Topographic Visualizer</h2>
<p>This visualizer can be used for displaying various Brain Connectivity Measures, related to a given Connectivity.
Its input is same as for the previous visualizer (Connectivity Measure Visualizer), but the display is completely different.
Instead of a discrete view, this time, we can have a continous display (with gradients).</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_topographic.jpg" src="screenshots/visualizer_topographic.jpg" style="width: 90%;" />
<p class="caption">Preview for Topographic Visualizer</p>
</div>
</div>
</div>
<div class="section" id="group-display">
<h1>Group Display</h1>
<div class="section" id="discrete-pse-visualizer">
<h2>Discrete PSE Visualizer</h2>
<p>Discrete Parameter Space Exploration View, will show up to two measures of the Simulator results,
after varying input Simulator Parameters. The two displayed measures are emphasized in the node shapes and node colors.</p>
<p>When running a range of Simulations in TVB, it is possible to do it by varying up to 2 input parameters (displayed on
the X and Y axis of current viewer).This visualizer supports to display results when the resulting space is not bigger
than 200 points.</p>
<div class="figure align-center">
<img alt="screenshots/simulator_pse_configuration.jpg" src="screenshots/simulator_pse_configuration.jpg" style="width: 90%;" />
<p class="caption">Preview for Discrete PSE Visualizer, when varying two input parameters of the simulator</p>
</div>
<p>When moving with your mouse cursor over a graph node, you will see a few details about that particular simulation result.
When clicking a node, an overlay window will open, which gives you full access to view or further analyze that
particular Simulation result.</p>
</div>
<div class="section" id="isocline-pse-visualizer">
<h2>Isocline PSE Visualizer</h2>
<p>Continuous Parameter Space Exploration View, will show the effect of varying Simulator parameters in a continuous form.</p>
<p>When running a range of Simulations in TVB, it is possible to do it by varying up to 2 input parameters (displayed on
the X and Y axis of current viewer). This visualizer supports ranges with 2 dimensions only, it does not support ranges
with only one dimension. Also both varying dimensions need to be numeric parameters (no DataType ranges are supported
for display in this visualizer).</p>
<div class="figure align-center">
<img alt="screenshots/simulator_pse_iso.jpg" src="screenshots/simulator_pse_iso.jpg" style="width: 90%;" />
<p class="caption">Preview for Continuous PSE Visualizer, when varying two numeric input parameters of the simulator</p>
</div>
<p>Controls for scaling or zooming the graph are available in this viewer. When you click on the coloured area, an overlay
window will open, containing possibility to view or further analyze the simulation result closest to the point where
you clicked.</p>
</div>
</div>
<div class="section" id="analyzers-visualizers">
<h1>Analyzers + Visualizers</h1>
<div class="section" id="covariance-visualizer">
<h2>Covariance Visualizer</h2>
<p>Displays the covariance matrix.
The matrix size is <cite>number of nodes</cite> x <cite>number of nodes</cite></p>
<div class="figure align-center">
<img alt="screenshots/visualizer_covariance.jpg" src="screenshots/visualizer_covariance.jpg" style="width: 90%;" />
<p class="caption">Preview for Covariance Visualizer</p>
</div>
</div>
<div class="section" id="cross-coherence-visualizer">
<h2>Cross Coherence Visualizer</h2>
<p>Displays the cross-coherence matrix. Axes represent brain nodes.
The matrix size is <cite>number of nodes</cite> x <cite>number of nodes</cite>.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_cross_coherence.jpg" src="screenshots/visualizer_cross_coherence.jpg" style="width: 90%;" />
<p class="caption">Preview for Cross Coherence Visualizer</p>
</div>
</div>
<div class="section" id="complex-coherence-visualizer">
<h2>Complex Coherence Visualizer</h2>
<p>Displays the complex-cross-coherence matrix. Axes represent brain nodes.
The matrix is a complex ndarray that contains the <cite>number of nodes</cite> x <cite>number of nodes</cite> cross
spectrum for every frequency frequency and for every segment</p>
<p>This visualizer is very similar with the previous one (Cross Coherence Visualizer).</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_complex_coherence.jpg" src="screenshots/visualizer_complex_coherence.jpg" style="width: 90%;" />
<p class="caption">Preview for Complex Coherence Visualizer</p>
</div>
</div>
<div class="section" id="cross-correlation-visualizer">
<h2>Cross Correlation Visualizer</h2>
<p>Displays the cross-correlation matrix. Similar to the previous three visualizers.</p>
</div>
<div class="section" id="pearson-coefficients-visualizer">
<h2>Pearson Coefficients Visualizer</h2>
<p>Displays the Pearson correlation coefficients matrix. Similar to the previous four visualizers.</p>
</div>
<div class="section" id="fourier-spectrum-visualizer">
<h2>Fourier Spectrum Visualizer</h2>
<p>Plots the power spectrum of each node time-series.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_fft.jpg" src="screenshots/visualizer_fft.jpg" style="width: 90%;" />
<p class="caption">Preview for Fourier Spectrum Visualizer</p>
</div>
</div>
<div class="section" id="principal-component-visualizer">
<h2>Principal Component Visualizer</h2>
<p>On the left, the ring plot displays the fraction of the variance that is
explained by each component.</p>
<p>On the right, the first ten components are plotted against the brain nodes
(variables).</p>
<div class="figure align-center">
<img alt="screenshots/analyzers_pca.jpg" src="screenshots/analyzers_pca.jpg" style="width: 90%;" />
<p class="caption">Preview for Principal Components Analysis Visualizer</p>
</div>
</div>
<div class="section" id="independent-component-visualizer">
<h2>Independent Component Visualizer</h2>
<p>ICA takes time-points as observations and nodes as variables.</p>
<p>As for PCA the TimeSeries datatype must be longer (more time-points) than the number of nodes.
Mostly a problem for TimeSeriesSurface datatypes, which, if sampled at 1024Hz, would need to be greater than
16 seconds long.</p>
<div class="figure align-center">
<img alt="screenshots/analyzers_ica.jpg" src="screenshots/analyzers_ica.jpg" style="width: 90%;" />
<p class="caption">Preview for Independent Components Analysis Visualizer</p>
</div>
</div>
<div class="section" id="wavelet-spectrogram-visualizer">
<h2>Wavelet Spectrogram Visualizer</h2>
<p>2D representation that shows how the signals wavelet spectral coefficients (frequency)
vary with time.</p>
<div class="figure align-center">
<img alt="screenshots/visualizer_wavelet.jpg" src="screenshots/visualizer_wavelet.jpg" style="width: 90%;" />
<p class="caption">Preview for Wavelet Visualizer</p>
</div>
</div>
</div>
</div>
</body>
</html>
